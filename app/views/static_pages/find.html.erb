

  <script>
    function showDialogEnterAddress() {

      var okayBtn = document.getElementById('okay');
      var modalText = "You may promote your pawn to any of the following pieces.";
      $(".pieces-available").html(modalText);
      $('#myModal').modal('show'); 

      okayBtn.onclick = function() {
        getCoordsFromAddress()
      };
      
    }

    function getCoordsFromAddress() {
      var inputAddress = document.getElementById('addressEntry').value;
      if (!inputAddress) {
        alert("sorry you need to enter an address");
      } else {
        // alert(inputAddress);

        var geocoder = new google.maps.Geocoder();
        geocoder.geocode({address: inputAddress}, function(results, status) {
            // Do something with the results
            var latitude = results[0].geometry.location.lat();
            var longitude = results[0].geometry.location.lng();
            // alert(results[0].geometry.location.lat());
            initMap(latitude,longitude,inputAddress);
        });

      }

      
    }

  </script>

  <script>
    function initMap(latitude,longitude,address) {
      if (!latitude) { 
        var initMyLatLng = {lat: -33.861756, lng: 151.2108839}; 
        var addressTitle = "Somewhere in Sydney!";
      } else {
        var initMyLatLng = {lat: latitude, lng: longitude};
        var addressTitle = address;
      }
      
      var map = new google.maps.Map(document.getElementById('map'), {
       zoom: 16,
       center: initMyLatLng
      });

      var marker = new google.maps.Marker({
        position: initMyLatLng,
        map: map,
        title: addressTitle
      });

      marker.addListener('click', function() {
        alert(marker.title);
      });

    }
    



/*
    function getLocation(map) {

    	var options = {
        enableHighAccuracy: true,
        timeout: 55000,
        maximumAge: 0
      };

    function success(position) {
    			
    	var myLatLng = {lat: position.coords.latitude, lng: position.coords.longitude};
    	var map = new google.maps.Map(document.getElementById('map'), {
    	   zoom: 12,
    	   center: myLatLng
    	});

    	var marker = new google.maps.Marker({
    	  position: myLatLng,
    	  map: map,
    	  title: 'my address'
    	});

    }

    function error(err) {
      console.warn(`ERROR(${err.code}): ${err.message}`);
    }

    navigator.geolocation.getCurrentPosition(success, error, options);


	var x = document.getElementById("demo");
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, options);
    } else {
        x.innerHTML = "Geolocation is not supported by this browser.";
    }

}



function showPosition(position) {
		
	var myLatLng = {lat: position.coords.latitude, lng: position.coords.longitude};
  	alert(myLatLng);
    var map = new google.maps.Map(document.getElementById('map'), {
       zoom: 12,
       center: myLatLng
    });

    var marker = new google.maps.Marker({
      position: myLatLng,
      map: map,
      title: 'Hello World!'
    });

}
*/

  </script>



  <script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCtVo6lca3eyGxppXGIjIdHLwhiAQgTLmo&callback=initMap">
  </script>

  <div id="map"></div>
  <br />
  <div class="col-10 offset-1 col-sm-8 offset-sm-2 col-md-10 offset-md-1 col-xs-10 offset-xs-1">
    <div class = "nrdl-head">
      <div class = "row">
        <div class = "col-sm-6">
          <input type="button" class="btn btn-primary" onclick="showDialogEnterAddress()" value="enter address"/>
        </div>
        <div class = "col-sm-6">
          <input type="button" class="btn btn-primary" onclick="showDialogEnterAddress()" value="find nÃ¼urdles"/>
        </div>
      </div>
    </div>
  </div>






  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    

      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h5 class="modal-title">enter an address to search for</h5>
        </div>
        <div class="modal-body">
          <input class="form-control input-sm" id="addressEntry" type="text" placeholder="enter an address here and click done" autofocus/>
        </div>

        <div class="modal-footer">


          <button type="button" class="btn btn-primary" id="okay" data-dismiss="modal">done</button>
        </div>
      </div>
      
    </div>
  </div>



  